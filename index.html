<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Minecraft Server Widget</title>
    <style>
        /* ... (Same CSS as before) */ 
    </style>
</head>
<body>
    <div id="widget">
        <h2>My Minecraft Server</h2>
        <div id="server-info">
            <p><span class="emoji">üñ•Ô∏è</span> IP: 185.229.32.95:25560</p>
            <p id="status">Loading...</p>
            <p id="player-info" style="display: none;"> 
                Players: <span id="onlinePlayers"></span>/<span id="maxPlayers"></span>
            </p>
        </div>
    </div>

    <script>
        const apiUrl = 'https://api.mcsrvstat.us/3/185.229.32.95:25560';

        async function updateStatus() {
            try {
                const response = await fetch(apiUrl);
                const data = await response.json(); // Parse JSON response

                if (data.online) {
                    document.getElementById('status').textContent = 'Online';
                    document.getElementById('onlinePlayers').textContent = data.players.online;
                    document.getElementById('maxPlayers').textContent = data.players.max;
                    document.getElementById('player-info').style.display = 'block';
                } else {
                    document.getElementById('status').textContent = 'Offline';
                    document.getElementById('player-info').style.display = 'none';
                }
            } catch (error) {
                console.error('Error fetching server status:', error);
                document.getElementById('status').textContent = 'Error checking status';
                document.getElementById('player-info').style.display = 'none';
            }
        }

        setInterval(updateStatus, 10000); // Update every 10 seconds
        updateStatus(); // Initial update
    </script>

</body>
</html>
